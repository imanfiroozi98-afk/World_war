<div style="padding: 20px;">
    <h2 style="color: #60a5fa; margin-bottom: 30px; text-align: center;">ğŸª ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªØ¬Ù‡ÛŒØ²Ø§Øª</h2>
    
    <!-- Ø¨Ø®Ø´ 1: ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ -->
    <div class="shop-category">
        <div class="category-title">
            <span class="emoji">ğŸ’°</span>
            <span>ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§</span>
        </div>
        <div class="shop-grid">
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">â› Ù…Ø¹Ø¯Ù†</span>
                    <span class="shop-item-level" id="mineLevel">0</span>
                </div>
                <div class="shop-item-desc">ØªÙˆÙ„ÛŒØ¯ Ø·Ù„Ø§ +Ûµ Ø¯Ø± Ù‡Ø± Ø¯ÙˆØ±Ù‡</div>
                <div class="shop-item-price">ğŸ’° Û´Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('mine')" id="mineBtn">Ø³Ø§Ø®Øª</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸŒ¾ Ù…Ø²Ø±Ø¹Ù‡</span>
                    <span class="shop-item-level" id="farmLevel">0</span>
                </div>
                <div class="shop-item-desc">ØªÙˆÙ„ÛŒØ¯ ØºØ°Ø§ +Û±Û° Ø¯Ø± Ù‡Ø± Ø¯ÙˆØ±Ù‡</div>
                <div class="shop-item-price">ğŸ’° Û³Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('farm')" id="farmBtn">Ø³Ø§Ø®Øª</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ›¢ Ù¾Ø§Ù„Ø§ÛŒØ´Ú¯Ø§Ù‡</span>
                    <span class="shop-item-level" id="refineryLevel">0</span>
                </div>
                <div class="shop-item-desc">ØªÙˆÙ„ÛŒØ¯ Ù†ÙØª +Û¸ Ø¯Ø± Ù‡Ø± Ø¯ÙˆØ±Ù‡</div>
                <div class="shop-item-price">ğŸ’° ÛµÛ° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('refinery')" id="refineryBtn">Ø³Ø§Ø®Øª</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸª Ø¨Ø§Ø²Ø§Ø±Ú†Ù‡</span>
                    <span class="shop-item-level" id="marketLevel">0</span>
                </div>
                <div class="shop-item-desc">Ø§ÙØ²Ø§ÛŒØ´ Ù‚ÛŒÙ…Øª ÙØ±ÙˆØ´ Ù†ÙØª +Û±Û°Ùª</div>
                <div class="shop-item-price">ğŸ’° Û¶Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('market')" id="marketBtn">Ø³Ø§Ø®Øª</button>
            </div>
        </div>
    </div>
    
    <!-- Ø¨Ø®Ø´ 2: Ø³Ø±Ø¨Ø§Ø² Ùˆ Ù¾Ù„ÛŒØ³ -->
    <div class="shop-category">
        <div class="category-title">
            <span class="emoji">ğŸ‘®</span>
            <span>Ù†ÛŒØ±ÙˆÛŒ Ù†Ø¸Ø§Ù…ÛŒ Ùˆ Ø§Ù†ØªØ¸Ø§Ù…ÛŒ</span>
        </div>
        <div class="shop-grid">
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ”« Ø³Ø±Ø¨Ø§Ø²</span>
                    <span class="shop-item-level" id="soldierLevel">0</span>
                </div>
                <div class="shop-item-desc">Ù‚Ø¯Ø±Øª Ù†Ø¸Ø§Ù…ÛŒ +Û±Û° | Ø±Ø¶Ø§ÛŒØª -Û±</div>
                <div class="shop-item-price">ğŸ’° Û²Ûµ Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('soldier')" id="soldierBtn">Ø§Ø³ØªØ®Ø¯Ø§Ù…</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ‘® Ù¾Ù„ÛŒØ³</span>
                    <span class="shop-item-level" id="policeLevel">0</span>
                </div>
                <div class="shop-item-desc">Ø±Ø¶Ø§ÛŒØª +Ûµ | Ù‚Ø¯Ø±Øª Ù†Ø¸Ø§Ù…ÛŒ +Ûµ</div>
                <div class="shop-item-price">ğŸ’° Û³Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('police')" id="policeBtn">Ø§Ø³ØªØ®Ø¯Ø§Ù…</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸšœ ØªØ§Ù†Ú©</span>
                    <span class="shop-item-level" id="tankLevel">0</span>
                </div>
                <div class="shop-item-desc">Ù‚Ø¯Ø±Øª Ù†Ø¸Ø§Ù…ÛŒ +Û²Ûµ | Ø±Ø¶Ø§ÛŒØª -Û³</div>
                <div class="shop-item-price">ğŸ’° Û¸Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('tank')" id="tankBtn">Ø®Ø±ÛŒØ¯</button>
            </div>
        </div>
    </div>
    
    <!-- Ø¨Ø®Ø´ 3: Ø¬Ù†Ú¯Ù†Ø¯Ù‡ Ù‡Ø§ -->
    <div class="shop-category">
        <div class="category-title">
            <span class="emoji">âœˆï¸</span>
            <span>Ù†ÛŒØ±ÙˆÛŒ Ù‡ÙˆØ§ÛŒÛŒ</span>
        </div>
        <div class="shop-grid">
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ›© Ø¬Ù†Ú¯Ù†Ø¯Ù‡</span>
                    <span class="shop-item-level" id="fighterJetLevel">0</span>
                </div>
                <div class="shop-item-desc">Ù‚Ø¯Ø±Øª Ù†Ø¸Ø§Ù…ÛŒ +Û²Û° | Ù…ÙˆÙÙ‚ÛŒØª Ø­Ù…Ù„Ù‡ +ÛµÙª</div>
                <div class="shop-item-price">ğŸ’° Û±Û°Û° Ø·Ù„Ø§ + Ûµ Ù†ÙØª</div>
                <button onclick="buyBuilding('fighterJet')" id="fighterJetBtn">Ø®Ø±ÛŒØ¯</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ’£ Ø¨Ù…Ø¨â€ŒØ§ÙÚ©Ù†</span>
                    <span class="shop-item-level" id="bomberLevel">0</span>
                </div>
                <div class="shop-item-desc">Ù‚Ø¯Ø±Øª Ù†Ø¸Ø§Ù…ÛŒ +Û³Ûµ | Ù…ÙˆÙÙ‚ÛŒØª Ø­Ù…Ù„Ù‡ +Û±Û°Ùª</div>
                <div class="shop-item-price">ğŸ’° Û±ÛµÛ° Ø·Ù„Ø§ + Û±Û° Ù†ÙØª</div>
                <button onclick="buyBuilding('bomber')" id="bomberBtn">Ø®Ø±ÛŒØ¯</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸš Ù¾Ù‡Ù¾Ø§Ø¯</span>
                    <span class="shop-item-level" id="droneLevel">0</span>
                </div>
                <div class="shop-item-desc">Ú©Ø´Ù Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø´Ù…Ù† | Ù‚Ø¯Ø±Øª +Û±Ûµ</div>
                <div class="shop-item-price">ğŸ’° Û·Û° Ø·Ù„Ø§ + Û³ Ù†ÙØª</div>
                <button onclick="buyBuilding('drone')" id="droneBtn">Ø®Ø±ÛŒØ¯</button>
            </div>
        </div>
    </div>
    
    <!-- Ø¨Ø®Ø´ 4: Ø­ÙØ§Ø¸Øª Ø±Ø¦ÛŒØ³ Ø¬Ù…Ù‡ÙˆØ± -->
    <div class="shop-category">
        <div class="category-title">
            <span class="emoji">ğŸ›¡ï¸</span>
            <span>Ø­ÙØ§Ø¸Øª Ø±Ø¦ÛŒØ³ Ø¬Ù…Ù‡ÙˆØ±</span>
        </div>
        <div class="shop-grid">
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ•´ Ù…Ø­Ø§ÙØ¸</span>
                    <span class="shop-item-level" id="bodyguardLevel">0</span>
                </div>
                <div class="shop-item-desc">Ú©Ø§Ù‡Ø´ ØªÙ„ÙØ§Øª Ø¯Ø± Ø´Ú©Ø³Øª -Û²Û°Ùª | Ø±Ø¶Ø§ÛŒØª +Û²</div>
                <div class="shop-item-price">ğŸ’° Û´Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('bodyguard')" id="bodyguardBtn">Ø§Ø³ØªØ®Ø¯Ø§Ù…</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ  Ø®Ø§Ù†Ù‡ Ø§Ù…Ù†</span>
                    <span class="shop-item-level" id="safeHouseLevel">0</span>
                </div>
                <div class="shop-item-desc">Ù…Ø­Ø§ÙØ¸Øª Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± ØªØ±ÙˆØ± | Ø±Ø¶Ø§ÛŒØª +Û³</div>
                <div class="shop-item-price">ğŸ’° Û¶Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('safeHouse')" id="safeHouseBtn">Ø³Ø§Ø®Øª</button>
            </div>
            
            <div class="shop-item">
                <div class="shop-item-header">
                    <span class="shop-item-name">ğŸ› Ù¾Ù†Ø§Ù‡Ú¯Ø§Ù‡</span>
                    <span class="shop-item-level" id="bunkerLevel">0</span>
                </div>
                <div class="shop-item-desc">Ú©Ø§Ù‡Ø´ ØªÙ„ÙØ§Øª Ø§Ù†Ù‚Ù„Ø§Ø¨ -ÛµÛ°Ùª</div>
                <div class="shop-item-price">ğŸ’° Û±Û²Û° Ø·Ù„Ø§</div>
                <button onclick="buyBuilding('bunker')" id="bunkerBtn">Ø³Ø§Ø®Øª</button>
            </div>
        </div>
    </div>
    
    <hr style="margin: 20px 0;">
    
    <div style="text-align: center; color: #94a3b8; font-size: 12px;">
        Ù‡Ø± Ø¢ÛŒØªÙ… Ù‚Ø§Ø¨Ù„ÛŒØª Ø§Ø±ØªÙ‚Ø§ ØªØ§ Ø³Ø·Ø­ Ûµ Ø±Ø§ Ø¯Ø§Ø±Ø¯
    </div>
</div>

<script>
// ØªØ§Ø¨Ø¹ Ø®Ø±ÛŒØ¯ Ø³Ø§Ø®ØªÙ…Ø§Ù†
function buyBuilding(type) {
    // Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§
    let costs = {
        // ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§
        mine: 40,
        farm: 30,
        refinery: 50,
        market: 60,
        // Ø³Ø±Ø¨Ø§Ø² Ùˆ Ù¾Ù„ÛŒØ³
        soldier: 25,
        police: 30,
        tank: 80,
        // Ø¬Ù†Ú¯Ù†Ø¯Ù‡ Ù‡Ø§
        fighterJet: 100,
        bomber: 150,
        drone: 70,
        // Ø­ÙØ§Ø¸Øª
        bodyguard: 40,
        safeHouse: 60,
        bunker: 120
    };
    
    // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ type Ø¯Ø± Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§
    if(!geoWarSave.buildings.hasOwnProperty(type)) {
        geoWarSave.buildings[type] = 0;
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ø­Ø¯Ø§Ú©Ø«Ø± Ø³Ø·Ø­
    if(geoWarSave.buildings[type] >= 5) {
        alert("âš ï¸ Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ø¨Ù‡ Ø­Ø¯Ø§Ú©Ø«Ø± Ø³Ø·Ø­ (Ûµ) Ø±Ø³ÛŒØ¯Ù‡ Ø§Ø³Øª!");
        return;
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø·Ù„Ø§
    if(geoWarSave.resources.gold < costs[type]) {
        alert(`ğŸ’° Ø·Ù„Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ù†ÛŒØ§Ø²: ${costs[type]} Ø·Ù„Ø§`);
        return;
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ø²ÛŒÙ†Ù‡ Ù†ÙØª Ø¨Ø±Ø§ÛŒ Ø¬Ù†Ú¯Ù†Ø¯Ù‡â€ŒÙ‡Ø§
    if(type === 'fighterJet' && geoWarSave.resources.oil < 5) {
        alert("ğŸ›¢ Ù†ÙØª Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ù†ÛŒØ§Ø²: Ûµ Ù†ÙØª");
        return;
    }
    if(type === 'bomber' && geoWarSave.resources.oil < 10) {
        alert("ğŸ›¢ Ù†ÙØª Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ù†ÛŒØ§Ø²: Û±Û° Ù†ÙØª");
        return;
    }
    if(type === 'drone' && geoWarSave.resources.oil < 3) {
        alert("ğŸ›¢ Ù†ÙØª Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ù†ÛŒØ§Ø²: Û³ Ù†ÙØª");
        return;
    }
    
    // Ù¾Ø±Ø¯Ø§Ø®Øª Ù‡Ø²ÛŒÙ†Ù‡
    geoWarSave.resources.gold -= costs[type];
    
    // Ù¾Ø±Ø¯Ø§Ø®Øª Ù‡Ø²ÛŒÙ†Ù‡ Ù†ÙØª Ø¨Ø±Ø§ÛŒ Ø¬Ù†Ú¯Ù†Ø¯Ù‡â€ŒÙ‡Ø§
    if(type === 'fighterJet') geoWarSave.resources.oil -= 5;
    if(type === 'bomber') geoWarSave.resources.oil -= 10;
    if(type === 'drone') geoWarSave.resources.oil -= 3;
    
    // Ø§ÙØ²Ø§ÛŒØ´ Ø³Ø·Ø­
    geoWarSave.buildings[type]++;
    
    // Ø§Ø¹Ù…Ø§Ù„ Ø§Ø«Ø±Ø§Øª
    applyBuildingEffects(type);
    
    // Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
    saveGame();
    updateUI();
    updateShopUI();
    
    alert(`âœ… ${getBuildingName(type)} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯! (Ø³Ø·Ø­ ${geoWarSave.buildings[type]})`);
}

// ØªØ§Ø¨Ø¹ Ø§Ø¹Ù…Ø§Ù„ Ø§Ø«Ø±Ø§Øª Ø³Ø§Ø®ØªÙ…Ø§Ù†
function applyBuildingEffects(type) {
    switch(type) {
        // ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ (Ø§Ø«Ø± Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒØ´Ù‡)
        case 'mine':
        case 'farm':
        case 'refinery':
        case 'market':
            break;
            
        // Ø³Ø±Ø¨Ø§Ø² Ùˆ Ù¾Ù„ÛŒØ³
        case 'soldier':
            geoWarSave.playerPower += 10;
            geoWarSave.stability = Math.max(0, geoWarSave.stability - 1);
            break;
        case 'police':
            geoWarSave.playerPower += 5;
            geoWarSave.stability = Math.min(100, geoWarSave.stability + 5);
            break;
        case 'tank':
            geoWarSave.playerPower += 25;
            geoWarSave.stability = Math.max(0, geoWarSave.stability - 3);
            break;
            
        // Ø¬Ù†Ú¯Ù†Ø¯Ù‡ Ù‡Ø§
        case 'fighterJet':
            geoWarSave.playerPower += 20;
            break;
        case 'bomber':
            geoWarSave.playerPower += 35;
            break;
        case 'drone':
            geoWarSave.playerPower += 15;
            break;
            
        // Ø­ÙØ§Ø¸Øª
        case 'bodyguard':
            geoWarSave.stability = Math.min(100, geoWarSave.stability + 2);
            break;
        case 'safeHouse':
            geoWarSave.stability = Math.min(100, geoWarSave.stability + 3);
            break;
        case 'bunker':
            // Ø§Ø«Ø± Ø¯Ø± Ø²Ù…Ø§Ù† Ø§Ù†Ù‚Ù„Ø§Ø¨ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒØ´Ù‡
            break;
    }
    
    // Ø§Ø¹Ù…Ø§Ù„ Ø³Ù‚Ù Ù‚Ø¯Ø±Øª
    let powerCap = 300 + (geoWarSave.technology.military - 1) * 200;
    geoWarSave.playerPower = Math.min(powerCap, geoWarSave.playerPower);
}

// ØªØ§Ø¨Ø¹ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø§Ù… ÙØ§Ø±Ø³ÛŒ Ø¢ÛŒØªÙ…
function getBuildingName(type) {
    const names = {
        mine: 'â› Ù…Ø¹Ø¯Ù†',
        farm: 'ğŸŒ¾ Ù…Ø²Ø±Ø¹Ù‡',
        refinery: 'ğŸ›¢ Ù¾Ø§Ù„Ø§ÛŒØ´Ú¯Ø§Ù‡',
        market: 'ğŸª Ø¨Ø§Ø²Ø§Ø±Ú†Ù‡',
        soldier: 'ğŸ”« Ø³Ø±Ø¨Ø§Ø²',
        police: 'ğŸ‘® Ù¾Ù„ÛŒØ³',
        tank: 'ğŸšœ ØªØ§Ù†Ú©',
        fighterJet: 'ğŸ›© Ø¬Ù†Ú¯Ù†Ø¯Ù‡',
        bomber: 'ğŸ’£ Ø¨Ù…Ø¨â€ŒØ§ÙÚ©Ù†',
        drone: 'ğŸš Ù¾Ù‡Ù¾Ø§Ø¯',
        bodyguard: 'ğŸ•´ Ù…Ø­Ø§ÙØ¸',
        safeHouse: 'ğŸ  Ø®Ø§Ù†Ù‡ Ø§Ù…Ù†',
        bunker: 'ğŸ› Ù¾Ù†Ø§Ù‡Ú¯Ø§Ù‡'
    };
    return names[type] || type;
}

// ØªØ§Ø¨Ø¹ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ UI ÙØ±ÙˆØ´Ú¯Ø§Ù‡
function updateShopUI() {
    // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø³Ø·ÙˆØ­
    document.getElementById('mineLevel').innerText = geoWarSave.buildings.mine || 0;
    document.getElementById('farmLevel').innerText = geoWarSave.buildings.farm || 0;
    document.getElementById('refineryLevel').innerText = geoWarSave.buildings.refinery || 0;
    document.getElementById('marketLevel').innerText = geoWarSave.buildings.market || 0;
    
    document.getElementById('soldierLevel').innerText = geoWarSave.buildings.soldier || 0;
    document.getElementById('policeLevel').innerText = geoWarSave.buildings.police || 0;
    document.getElementById('tankLevel').innerText = geoWarSave.buildings.tank || 0;
    
    document.getElementById('fighterJetLevel').innerText = geoWarSave.buildings.fighterJet || 0;
    document.getElementById('bomberLevel').innerText = geoWarSave.buildings.bomber || 0;
    document.getElementById('droneLevel').innerText = geoWarSave.buildings.drone || 0;
    
    document.getElementById('bodyguardLevel').innerText = geoWarSave.buildings.bodyguard || 0;
    document.getElementById('safeHouseLevel').innerText = geoWarSave.buildings.safeHouse || 0;
    document.getElementById('bunkerLevel').innerText = geoWarSave.buildings.bunker || 0;
    
    // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø·Ø­ Ûµ
    document.getElementById('mineBtn').disabled = (geoWarSave.buildings.mine || 0) >= 5 || geoWarSave.resources.gold < 40;
    document.getElementById('farmBtn').disabled = (geoWarSave.buildings.farm || 0) >= 5 || geoWarSave.resources.gold < 30;
    document.getElementById('refineryBtn').disabled = (geoWarSave.buildings.refinery || 0) >= 5 || geoWarSave.resources.gold < 50;
    document.getElementById('marketBtn').disabled = (geoWarSave.buildings.market || 0) >= 5 || geoWarSave.resources.gold < 60;
    
    document.getElementById('soldierBtn').disabled = (geoWarSave.buildings.soldier || 0) >= 5 || geoWarSave.resources.gold < 25;
    document.getElementById('policeBtn').disabled = (geoWarSave.buildings.police || 0) >= 5 || geoWarSave.resources.gold < 30;
    document.getElementById('tankBtn').disabled = (geoWarSave.buildings.tank || 0) >= 5 || geoWarSave.resources.gold < 80;
    
    document.getElementById('fighterJetBtn').disabled = (geoWarSave.buildings.fighterJet || 0) >= 5 || geoWarSave.resources.gold < 100 || geoWarSave.resources.oil < 5;
    document.getElementById('bomberBtn').disabled = (geoWarSave.buildings.bomber || 0) >= 5 || geoWarSave.resources.gold < 150 || geoWarSave.resources.oil < 10;
    document.getElementById('droneBtn').disabled = (geoWarSave.buildings.drone || 0) >= 5 || geoWarSave.resources.gold < 70 || geoWarSave.resources.oil < 3;
    
    document.getElementById('bodyguardBtn').disabled = (geoWarSave.buildings.bodyguard || 0) >= 5 || geoWarSave.resources.gold < 40;
    document.getElementById('safeHouseBtn').disabled = (geoWarSave.buildings.safeHouse || 0) >= 5 || geoWarSave.resources.gold < 60;
    document.getElementById('bunkerBtn').disabled = (geoWarSave.buildings.bunker || 0) >= 5 || geoWarSave.resources.gold < 120;
}

// Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÙÚ©Øª Ø³Ø§Ø®ØªÙ…Ø§Ù†â€ŒÙ‡Ø§ Ø¨Ù‡ ØªÙˆÙ„ÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø± (Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø¯Ø± Ú©Ø¯ Ø§ØµÙ„ÛŒ Ø¨Ø§ÛŒØ¯ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø¨Ø´Ù‡)
function getProductionBonus() {
    let bonus = {
        gold: 1 + (geoWarSave.buildings.mine || 0) * 0.5,
        food: 1 + (geoWarSave.buildings.farm || 0) * 0.5,
        oil: 1 + (geoWarSave.buildings.refinery || 0) * 0.5,
        price: 1 + (geoWarSave.buildings.market || 0) * 0.1
    };
    return bonus;
}

// Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÙÚ©Øª Ù…Ø­Ø§ÙØ¸Øª Ø¯Ø± Ø­Ù…Ù„Ù‡
function getDefenseBonus() {
    let reduction = 1 - ((geoWarSave.buildings.bodyguard || 0) * 0.04); // Ù‡Ø± Ù…Ø­Ø§ÙØ¸ Û´Ùª Ú©Ø§Ù‡Ø´ ØªÙ„ÙØ§Øª
    return Math.max(0.5, reduction); // Ø­Ø¯Ø§Ú©Ø«Ø± ÛµÛ°Ùª Ú©Ø§Ù‡Ø´
}

// Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÙÚ©Øª Ù¾Ù†Ø§Ù‡Ú¯Ø§Ù‡ Ø¯Ø± Ø§Ù†Ù‚Ù„Ø§Ø¨
function getRevolutionProtection() {
    let protection = (geoWarSave.buildings.bunker || 0) * 0.1; // Ù‡Ø± Ù¾Ù†Ø§Ù‡Ú¯Ø§Ù‡ Û±Û°Ùª Ù…Ø­Ø§ÙØ¸Øª
    return Math.min(0.5, protection); // Ø­Ø¯Ø§Ú©Ø«Ø± ÛµÛ°Ùª
}

// Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
updateShopUI();

// Ù‡Ø± Ûµ Ø«Ø§Ù†ÛŒÙ‡ ÛŒÚ©Ø¨Ø§Ø± Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± (Ø¨Ø±Ø§ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§)
setInterval(updateShopUI, 5000);
</script>

<style>
/* Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø®ØµÙˆØµ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ */
.shop-category {
    margin-bottom: 30px;
    background: rgba(0,0,0,0.2);
    padding: 15px;
    border-radius: 15px;
}

.category-title {
    font-size: 20px;
    color: #fbbf24;
    margin-bottom: 15px;
    padding-bottom: 5px;
    border-bottom: 2px solid #3b82f6;
    display: flex;
    align-items: center;
    gap: 10px;
}

.category-title .emoji {
    font-size: 24px;
}

.shop-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 15px;
    margin-bottom: 10px;
}

.shop-item {
    background: #1e293b;
    padding: 15px;
    border-radius: 12px;
    border: 1px solid #334155;
    transition: 0.2s;
    position: relative;
    overflow: hidden;
}

.shop-item:hover {
    border-color: #3b82f6;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.shop-item::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 4px;
    height: 100%;
    background: #2563eb;
}

.shop-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.shop-item-name {
    font-size: 16px;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 5px;
}

.shop-item-level {
    color: #fbbf24;
    font-size: 14px;
    font-weight: bold;
    background: #0f172a;
    padding: 2px 8px;
    border-radius: 20px;
}

.shop-item-desc {
    color: #94a3b8;
    font-size: 12px;
    margin: 8px 0;
    min-height: 35px;
    line-height: 1.5;
}

.shop-item-price {
    background: #0f172a;
    padding: 8px;
    border-radius: 8px;
    margin: 10px 0;
    text-align: center;
    color: #4ade80;
    font-weight: bold;
    font-size: 14px;
    border: 1px solid #334155;
}

.shop-item button {
    background: #2563eb;
    margin-top: 5px;
    border: none;
    color: white;
    padding: 8px;
    border-radius: 6px;
    cursor: pointer;
    width: 100%;
    font-size: 14px;
    transition: 0.2s;
}

.shop-item button:hover:not(:disabled) {
    background: #3b82f6;
    transform: scale(1.02);
}

.shop-item button:disabled {
    background: #4b5563;
    cursor: not-allowed;
    opacity: 0.5;
}

/* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
@media (max-width: 768px) {
    .shop-grid {
        grid-template-columns: 1fr;
    }
    
    .modal-content {
        margin: 10px;
        padding: 15px;
    }
}
</style>