<div style="padding: 20px;">
    <h2 style="color: #4ade80; margin-bottom: 30px;">๐ฌ ุฏุฑุฎุช ุชฺฉููููฺ</h2>

    <!-- ูพุงู ูููุช -->
    <div id="msgBox" style="color: #4ade80; margin-bottom: 10px; min-height: 24px;"></div>

    <div style="background: #1e293b; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <span style="font-size: 18px;">โ ุณุทุญ ูุธุงู</span>
            <span style="color: #fbbf24; font-size: 20px;" id="milTechLevel">1/5</span>
        </div>
        <div style="color: #94a3b8; margin-bottom: 15px;">ุณูู ูุฏุฑุช: <span id="powerCap">300</span></div>
        <button onclick="upgradeTech('military')" id="milTechBtn" style="background: #2563eb;">ุงุฑุชูุง (ฒฐฐ ุทูุง)</button>
    </div>

    <div style="background: #1e293b; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <span style="font-size: 18px;">๐ข ุชฺฉููููฺ ููุช</span>
            <span style="color: #fbbf24; font-size: 20px;" id="oilTechLevel">1/5</span>
        </div>
        <div style="color: #94a3b8; margin-bottom: 15px;">ุชููุฏ ููุช +ฒฐูช ุฏุฑ ูุฑ ุณุทุญ</div>
        <button onclick="upgradeTech('oil')" id="oilTechBtn" style="background: #2563eb;">ุงุฑุชูุง (ฑตฐ ุทูุง)</button>
    </div>

    <div style="background: #1e293b; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <span style="font-size: 18px;">๐พ ุชฺฉููููฺ ฺฉุดุงูุฑุฒ</span>
            <span style="color: #fbbf24; font-size: 20px;" id="farmTechLevel">1/5</span>
        </div>
        <div style="color: #94a3b8; margin-bottom: 15px;">ุชููุฏ ุบุฐุง +ฒฐูช ุฏุฑ ูุฑ ุณุทุญ</div>
        <button onclick="upgradeTech('farm')" id="farmTechBtn" style="background: #2563eb;">ุงุฑุชูุง (ฑตฐ ุทูุง)</button>
    </div>

    <div style="background: #1e293b; padding: 20px; border-radius: 15px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <span style="font-size: 18px;">๐ญ ุชฺฉููููฺ ุตูุนุช</span>
            <span style="color: #fbbf24; font-size: 20px;" id="indTechLevel">1/5</span>
        </div>
        <div style="color: #94a3b8; margin-bottom: 15px;">ุชููุฏ ุทูุง +ฒฐูช ุฏุฑ ูุฑ ุณุทุญ</div>
        <button onclick="upgradeTech('industry')" id="indTechBtn" style="background: #2563eb;">ุงุฑุชูุง (ฒฐฐ ุทูุง)</button>
    </div>
</div>

<script>
// ุชุงุจุน ููุงุด ูพุงู ูููุช
function showMessage(text) {
    const box = document.getElementById('msgBox');
    box.textContent = text;
    setTimeout(() => box.textContent = '', 2000);
}

function upgradeTech(type) {
    let costs = { military: 200, oil: 150, farm: 150, industry: 200 };
    
    if (!geoWarSave) {
        showMessage("ุฎุทุง: ุฏุงุฏูโุง ุงูุช ูุดุฏ");
        return;
    }
    
    if (geoWarSave.technology[type] >= 5) {
        showMessage("โ๏ธ ุญุฏุงฺฉุซุฑ ุณุทุญ!");
        return;
    }
    
    if (geoWarSave.resources.gold < costs[type]) {
        showMessage("๐ฐ ุทูุง ฺฉุงู ูุณุช!");
        return;
    }
    
    geoWarSave.resources.gold -= costs[type];
    geoWarSave.technology[type]++;
    
    if (type === 'military') {
        geoWarSave.playerPower += 50;
        // ุงุนูุงู ุณูู ูุฏุฑุช
        let powerCap = 300 + (geoWarSave.technology.military - 1) * 200;
        if (geoWarSave.playerPower > powerCap) geoWarSave.playerPower = powerCap;
    }
    
    // ูุฑุงุฎูุงู ุชูุงุจุน ุณุฑุงุณุฑ
    if (window.saveGame) window.saveGame();
    if (window.updateUI) window.updateUI();
    
    // ุจุฑูุฒุฑุณุงู UI ุฏุงุฎู ูพูู
    updateTechUI();
    
    showMessage(`โ ุชฺฉููููฺ ${type} ุงุฑุชูุง ุงูุช!`);
}

function updateTechUI() {
    if (!geoWarSave) return;
    
    document.getElementById('milTechLevel').innerText = geoWarSave.technology.military + '/5';
    document.getElementById('oilTechLevel').innerText = geoWarSave.technology.oil + '/5';
    document.getElementById('farmTechLevel').innerText = geoWarSave.technology.farm + '/5';
    document.getElementById('indTechLevel').innerText = geoWarSave.technology.industry + '/5';
    
    let powerCap = 300 + (geoWarSave.technology.military - 1) * 200;
    document.getElementById('powerCap').innerText = powerCap;
    
    // ุบุฑูุนุงู ฺฉุฑุฏู ุฏฺฉููโูุง
    document.getElementById('milTechBtn').disabled = geoWarSave.technology.military >= 5 || geoWarSave.resources.gold < 200;
    document.getElementById('oilTechBtn').disabled = geoWarSave.technology.oil >= 5 || geoWarSave.resources.gold < 150;
    document.getElementById('farmTechBtn').disabled = geoWarSave.technology.farm >= 5 || geoWarSave.resources.gold < 150;
    document.getElementById('indTechBtn').disabled = geoWarSave.technology.industry >= 5 || geoWarSave.resources.gold < 200;
}

// ุจุฑูุฒุฑุณุงู ุงููู
updateTechUI();
</script>